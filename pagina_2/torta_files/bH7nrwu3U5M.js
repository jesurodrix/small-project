;/*FB_PKG_DELIM*/

__d("IGDLinkPreviewContainer_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDLinkPreviewContainer_data",selections:[{args:null,kind:"FragmentSpread",name:"IGDLinkPreviewsContent_data"}],type:"IGLinkPreviewAttachment",abstractKey:null};e.exports=a}),null);
__d("IGDLinkPreviewsContent_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDLinkPreviewsContent_data",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},action:"LOG",path:"title"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},action:"LOG",path:"image_url"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},action:"LOG",path:"domain"}],type:"IGLinkPreviewAttachment",abstractKey:null};e.exports=a}),null);
__d("IGDLinkPreviewsContent.react",["fbt","CometImage.react","CometProgressRingIndeterminate.react","CometRelay","IGDLinkPreviewsContent_data.graphql","IGDSCircleXOutlineIcon.react","IGDSIconButton.react","IGDSText.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useState,m=e.c,n=h._("__JHASH__IZP73WkpQjB__JHASH__");function a(a){var e=m(9),f=a.fragmentProp,g=a.isRefetching,j=a.linkToPreview;a=a.logLinkPreviewsImpressionEventRef;var o;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=[],e[0]=o):o=e[0];o=l(o);var p=o[0],q=o[1];e[1]!==j?(o=function(){q(function(a){return[].concat(a,[j])})},e[1]=j,e[2]=o):o=e[2];o=o;f=d("CometRelay").useFragment(i!==void 0?i:i=b("IGDLinkPreviewsContent_data.graphql"),f);if(g){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:"x889kno x1iji9kk x1a8lsjc x1sln4lm",children:k.jsx(c("CometProgressRingIndeterminate.react"),{color:"blue",size:24})}),e[3]=g):g=e[3];return g}if(p.includes(j))return null;p=(g=f==null?void 0:f.domain)!=null?g:"";e[4]!==f||e[5]!==p||e[6]!==o||e[7]!==a?(g=f!=null?k.jsxs("div",{className:"x6s0dn4 x1anpbxc xmo9yow xyorhqc x17adc0v xz7v4t6 x1n2onr6",ref:a,children:[k.jsxs("div",{className:"x6s0dn4 xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x9f619 x78zum5 xozqiw3 x1nhvcw1 x8nclml x87ps6o",children:[k.jsx("div",{className:"x1vtvx1t x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1anpbxc xmo9yow xyorhqc x17adc0v",children:(f==null?void 0:f.image_url)!=null&&k.jsx(c("CometImage.react"),{height:64,objectFit:"contain",src:f==null?void 0:f.image_url,width:64})}),k.jsxs("div",{className:"x78zum5 xdt5ytf",children:[k.jsx(c("IGDSText.react").BodyEmphasized,{maxLines:1,children:f==null?void 0:f.title}),p&&k.jsx("div",{className:"x889kno",children:k.jsx(c("IGDSText.react").Body,{color:"secondaryText",maxLines:2,children:f==null?void 0:f.domain})})]})]}),k.jsx("div",{className:"x1wtad8d x10l6tqk x1fur4o1",children:k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:n,children:k.jsx(c("IGDSIconButton.react"),{onClick:o,children:k.jsx(c("IGDSCircleXOutlineIcon.react"),{alt:h._("__JHASH__DW4lpT5bI7H__JHASH__"),size:20})})})})]}):null,e[4]=f,e[5]=p,e[6]=o,e[7]=a,e[8]=g):g=e[8];return g}g["default"]=a}),226);
__d("IGDLinkPreviewContainer.react",["IGDLinkPreviewContainer_data.graphql","IGDLinkPreviewsContent.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","RelayHooks","getInstamadilloLoggingExtraData","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(10),f=a.isRefetching,g=a.linkToPreview,i=a.query,l=a.queryReference;a=a.thread;var m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),n;e[0]!==a?(n=c("getInstamadilloLoggingExtraData")(a),e[0]=a,e[1]=n):n=e[1];a=n;e[2]!==a||e[3]!==m?(n={eventName:"composer_link_previews_rendered",extraData:a,flowInstanceId:m},e[2]=a,e[3]=m,e[4]=n):n=e[4];a=c("MessengerWebUXLogger").useImpressionLoggerRef(n);m=d("RelayHooks").usePreloadedQuery(i,l);n=d("RelayHooks").useFragment(h!==void 0?h:h=b("IGDLinkPreviewContainer_data.graphql"),m.igd_link_preview_for_url);e[5]!==n||e[6]!==f||e[7]!==g||e[8]!==a?(i=n&&k.jsx(c("IGDLinkPreviewsContent.react"),{fragmentProp:n,isRefetching:f,linkToPreview:g,logLinkPreviewsImpressionEventRef:a}),e[5]=n,e[6]=f,e[7]=g,e[8]=a,e[9]=i):i=e[9];return i}g["default"]=a}),98);
__d("IGDLinkPreviewRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7924764570986258"}),null);
__d("IGDLinkPreviewRootQuery.graphql",["IGDLinkPreviewRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{kind:"Variable",name:"url",variableName:"url"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"IGDLinkPreviewRootQuery",selections:[{alias:null,args:c,concreteType:"IGLinkPreviewAttachment",kind:"LinkedField",name:"igd_link_preview_for_url",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IGDLinkPreviewContainer_data"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"IGDLinkPreviewRootQuery",selections:[{alias:null,args:c,concreteType:"IGLinkPreviewAttachment",kind:"LinkedField",name:"igd_link_preview_for_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null}],storageKey:null}]},params:{id:b("IGDLinkPreviewRootQuery_instagramRelayOperation"),metadata:{},name:"IGDLinkPreviewRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFirstComposerLink.react",["CometThrottledDebounce","URLMatcher","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState,k=1e3;function a(a){var b=j(null),d=b[0],e=b[1],f=c("CometThrottledDebounce")(function(a){a=c("URLMatcher").match(a);a!=null?e(a):e(null)},k,k);i(function(){return a.registerTextContentListener(function(a){f(a)})},[a,f]);return d}g["default"]=a}),98);
__d("IGDLinkPreviewRoot.react",["IGDLinkPreviewContainer.react","IGDLinkPreviewRootQuery.graphql","RelayHooks","react","useFirstComposerLink.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useTransition,m=e.c,n=h!==void 0?h:h=b("IGDLinkPreviewRootQuery.graphql");function a(a){var b=m(11),e=a.editor;a=a.thread;var f=c("useFirstComposerLink.react")(e);e=d("RelayHooks").useQueryLoader(n);var g=e[0],h=e[1];e=l();var i=e[0],o=e[1];b[0]!==h?(e=function(a){o(function(){h({url:a})})},b[0]=h,b[1]=e):e=b[1];var p=e,q;b[2]!==f||b[3]!==p?(e=function(){f!=null&&p(f)},q=[f,p],b[2]=f,b[3]=p,b[4]=e,b[5]=q):(e=b[4],q=b[5]);k(e,q);if(f!=null&&g){b[6]!==i||b[7]!==f||b[8]!==g||b[9]!==a?(e=j.jsx(c("IGDLinkPreviewContainer.react"),{isRefetching:i,linkToPreview:f,query:n,queryReference:g,thread:a}),b[6]=i,b[7]=f,b[8]=g,b[9]=a,b[10]=e):e=b[10];return e}return null}g["default"]=a}),98);
__d("MWSetupMediaRenderQpl.react",["FBLogger","VideoPlayerHooks","performanceAbsoluteNow","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=a.context,e=a.mediaRenderQpl,f=(j||(j=d("VideoPlayerHooks"))).useController(),g=l();k(function(){e==null?void 0:e.addPoint("setup-video-media-render-qpl",{string:{context:b}});var a=function(){var a=f.getCurrentState();if(a.error!=null){var d=a.error.errorName,i=a.error.errorType,j=a.error.errorMessageFormat+" - "+a.error.errorMessageParams.join(",");e==null?void 0:e.endFail("load-video-error",{string:{video_error_message:j,video_error_name:d,video_error_type:i}});c("FBLogger")("messenger_web_media","load-video-error").warn("%s Video Player Error: %s",b,j);(d=g.current)==null?void 0:d.remove()}i=a.domEventsLatestPerfMs.canplay!=null&&a.domEventsLatestPerfMs.canplay>0;if(i){var k=(h||(h=c("performanceAbsoluteNow")))();c("setTimeout")(function(){var a;e==null?void 0:e.endSuccess(void 0,k);(a=g.current)==null?void 0:a.remove()},500)}};g.current=f.subscribe(function(){a()});a();return function(){var a;(a=g.current)==null?void 0:a.remove()}},[b,e,f]);return null}g["default"]=a}),98);